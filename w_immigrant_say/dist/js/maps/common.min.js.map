{"version":3,"sources":["common.js"],"names":["api","sms_send","roter_validCode","roter_login","router_login","router_register","activity_list","activity_detail","activity_enroll","activity_city_list","activity_enroll_detail","user_info","user_change_info","user_change_change","user_consult_list","product_list","product_country","product_types","consult_bespeak","order_create","order_detail","consult_info","api_token","articles_list","articles_areas","articles_search","articles_detail","ENV","CONFIG","CONFIG_DEV","BASE_API","BASE_URL","APP_ID","CONFIG_TEST","CONFIG_PRO","console","log","prodRedirectUrl","service","axios","create","spread","interceptors","response","use","res","data","status_code","Promise","reject","message","error","status","validateRegExp","email","mobile","base64Decode","rv","window","atob","input","escape","decodeURIComponent","Vue","component","template","props","actionsheetClose","type","show","default","this","title","methods","actionsheetOpen","onClose","extend","ToastTpl","document","setTimeout","body","closable","Boolean","Toast","Modal","ModalVM","install","redirect","closed","property","prototype","$toast","tips","getElementsByClassName","length","tpl","$mount","$el","removeChild","location","opt","$modal","config","options","JSON","parse","stringify","_typeof","href","appendChild"],"mappings":"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","file":"../common.min.js","sourcesContent":["// API 配置\r\nconst api = {\r\n    // 基础：短信发送模块\r\n    sms_send: '/api/sms/send',\r\n    // 基础：发送手机验证码\r\n    roter_validCode: '/api/send_mobile_code',\r\n    // 注册：获取微信用户授权登陆\r\n    roter_login: '/api/login',\r\n    // 注册：老用户登录绑定\r\n    router_login: '/api/login_register',\r\n    // 注册：用户注册绑定\r\n    router_register: '/api/register',\r\n    // 活动：活动列表\r\n    activity_list: '/api/frontward/show/activeList',\r\n    // 活动：活动详情\r\n    activity_detail: '/api/frontward/show/activeDetail',\r\n    // 活动：活动报名\r\n    activity_enroll: '/api/frontward/show/activeEnroll',\r\n    // 活动：城市列表\r\n    activity_city_list: '/api/frontward/show/areasList',\r\n    // 活动：活动报名成功\r\n    activity_enroll_detail: '/api/frontward/show/activeEnrollDetail',\r\n    // 用户：获取用户信息\r\n    user_info: '/api/get_user_info',\r\n    // 用户：修改会员信息\r\n    user_change_info: '/api/change_user_info',\r\n    // 用户：获取用户信息\r\n    user_change_change: '/api/change_mobile',\r\n    // 用户：咨询预约记录\r\n    user_consult_list: '/api/frontward/show/crmCustomerDoingProjectList',\r\n    // 产品：产品列表\r\n    product_list: '/api/frontward/show/projectsList',\r\n    // 产品：国家列表\r\n    product_country: '/api/frontward/show/countryList',\r\n    // 产品：标签列表\r\n    product_types: '/api/frontward/show/projectTypes',\r\n    // 咨询：咨询预约\r\n    consult_bespeak: '/api/frontward/show/bespeakCustomer',\r\n    // 签约：确定签约接口\r\n    order_create: '/api/createOrder',\r\n    // 签约：签约详情接口\r\n    order_detail: '/api/getOrderDetail',\r\n    // 获取顾问接口\r\n    consult_info: '/api/get_consult_info',\r\n    //----------------------------------\r\n    api_token : \"7ee97cfe4aa9a8d5e7b7dbc2f75efde6\",\r\n    //资讯标签\r\n    articles_list: '/api/articles/parent_types',\r\n    //获取所有资讯地区\r\n    articles_areas: '/api/articles/areas',\r\n    //资讯搜索\r\n    articles_search: '/api/articles/search',\r\n    //获取资讯详情\r\n    articles_detail: '/api/articles/detail',\r\n    //获取子标题\r\n    articles_chlid:'/api/articles/chlid_types',\r\n    //国家地区标签\r\n    articles_tags:'/api/articles/tags'\r\n    //----------------------------------\r\n}\r\n\r\n// 运行模式：dev | test | pro\r\nlet ENV = 'dev'\r\n// 环境变量\r\nlet CONFIG = {}\r\n// 开发环境\r\nlet CONFIG_DEV = {\r\n    ENV: 'development',\r\n    APP_ID: 'wx83b20df6734e3d05', // 个人\r\n    BASE_API: 'http://city-partner-api.leapoon.com',\r\n    BASE_URL: 'http://192.168.154.102:8000/'\r\n}\r\n// 测试环境\r\nlet CONFIG_TEST = {\r\n    ENV: 'test',\r\n    APP_ID: 'wx05280b415964d82f', // 立芃科技\r\n    BASE_API: 'http://test-city-partner-api.wailianvisa.com',\r\n    BASE_URL: 'http://test-city-partner.wailianvisa.com/'\r\n}\r\n// 生产环境\r\nlet CONFIG_PRO = {\r\n    ENV: 'production',\r\n    APP_ID: 'wxe579e8173e6987f5', // 移民说\r\n    BASE_API: 'http://city-partner-api.wailianvisa.com',\r\n    BASE_URL: 'http://city-partner.wailianvisa.com/'\r\n}\r\n\r\n// localStorage.setItem('token', '2419c51e336ff808f4da0d433105eae7')\r\n\r\n// 环境判断\r\nswitch (ENV) {\r\n    case 'dev':\r\n        CONFIG = CONFIG_DEV\r\n        break;\r\n    case 'test':\r\n        CONFIG = CONFIG_TEST\r\n        break;\r\n    default:\r\n        CONFIG = CONFIG_PRO\r\n}\r\n// 打印模式\r\nconsole.log('%c ' + CONFIG.ENV + ' ', 'background:black;color:yellow')\r\n\r\n// 访问入口\r\nconst prodRedirectUrl = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=' + CONFIG.APP_ID + '&redirect_uri=' + CONFIG.BASE_URL + 'index.html&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect';\r\n// https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx83b20df6734e3d05&redirect_uri=http://192.168.154.102:8000/index.html&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\r\n\r\n// Axios Config\r\nconst service = axios.create({\r\n    baseURL: CONFIG.BASE_API\r\n});\r\n\r\n// 处理并发\r\nservice.spread = axios.spread\r\nservice.all = axios.all\r\n\r\nservice.interceptors.response.use((res) => {\r\n    const data = res.data;\r\n    if (data.status_code == 0 || data.status_code == 200) {\r\n        return data\r\n    } else {\r\n        return Promise.reject(data.message)\r\n    }\r\n}, (error) => {\r\n    if (error.status >= 400 && error.status < 500) {\r\n        return Promise.reject(error.data.message);\r\n    } else {\r\n        if (error.status == 404 || error.status == 500) {\r\n            error.message = '服务器拒绝了请求。'\r\n        } else {\r\n            error.message = '系统繁忙，请稍后再试。'\r\n        }\r\n        return Promise.reject(error.message);\r\n    }\r\n});\r\n\r\n// Validate Config\r\nlet validateRegExp = {\r\n    email: /\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z0-9]+$/,\r\n    mobile: /^13[0-9]{9}|15[012356789][0-9]{8}|18[0256789][0-9]{8}|147[0-9]{8}$/,\r\n    newmobile: /^1[0-9]{10}$/,\r\n}\r\n\r\n// base64解码\r\nfunction base64Decode(input){\r\n    let rv = window.atob(input);\r\n    rv = escape(rv);\r\n    rv = decodeURIComponent(rv);\r\n    return rv;\r\n}\r\n\r\n// Component：ActionSheet\r\nVue.component('actionsheet', {\r\n    template: `\r\n        <transition name=\"fade\">\r\n            <div class=\"wl-actionsheet\" v-if=\"show\">\r\n            <div class=\"wl-mask\" @click=\"actionsheetOpen\"></div>\r\n                <div class=\"wl-actionsheet-wrap wl-actionsheet-wrap_bottom\">\r\n                    <div class=\"wl-actionsheet-wrap__close\" @click=\"actionsheetOpen\">\r\n                        <i class=\"ui-icon ui-icon-close_gary\"></i>\r\n                    </div>\r\n                    <div class=\"wl-actionsheet-wrap__hd\">\r\n                        {{title}}\r\n                    </div>\r\n                    <div class=\"wl-actionsheet-wrap__bd\">\r\n                        <slot></slot>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </transition>`,\r\n    props: {\r\n        title: {\r\n            type: String,\r\n            default: ''\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            title: this.title,\r\n            show: false\r\n        }\r\n    },\r\n    methods: {\r\n        actionsheetOpen() {\r\n            this.show = !this.show\r\n        },\r\n        actionsheetClose() {\r\n            this.show = false\r\n        }\r\n    }\r\n})\r\n\r\n// Component：LoadMore\r\nVue.component('loadmore', {\r\n    template: `\r\n        <div class=\"wl-loadmore\">\r\n            <div class=\"wl-loadmore__line\"></div>\r\n            <div class=\"wl-loadmore__text\">我也是有底线的</div>\r\n            <div class=\"wl-loadmore__line\"></div>\r\n        </div>`,\r\n    data() {\r\n        return {\r\n\r\n        }\r\n    },\r\n    methods: {\r\n\r\n    }\r\n})\r\n\r\n// Component：NoticeBar\r\nlet NoticeBar = Vue.extend({\r\n    template: `\r\n        <transition name=\"slideOutUp\">\r\n            <div class=\"wl-notice-bar\" v-if=\"closed\">\r\n                <div class=\"wl-notice-bar__content\">\r\n                    <p class=\"wl-notice-bar__title\">{{title}}</p>\r\n                    <p class=\"wl-notice-bar__desc\" v-if=\"description\">{{description}}</p>\r\n                </div>\r\n                <div class=\"wl-notice-bar__extra\" v-if=\"closable\">\r\n                    <i class=\"ui-icon ui-icon-close\" @click=\"onClose\"></i>\r\n                </div>\r\n            </div>\r\n        </transition>`,\r\n    props: {\r\n        title: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        description: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        closable: {\r\n            type: Boolean,\r\n            default: true\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            closed: true\r\n        }\r\n    },\r\n    methods: {\r\n        onClose() {\r\n            this.closed = false\r\n        }\r\n    }\r\n})\r\nVue.component('notice-bar', NoticeBar)\r\n\r\n// Plugin：Toast\r\nconst Toast = {};\r\nToast.install = (Vue) => {\r\n    Vue.prototype.$toast = (tips) => {\r\n        if (document.getElementsByClassName('wl-toast').length) {\r\n            return;\r\n        }\r\n        let ToastTpl = Vue.extend({\r\n            template: `\r\n            <div class=\"wl-toast\">\r\n                <div class=\"wl-toast__mask\"></div>\r\n                <div class=\"wl-toast__text\">${tips}</div>\r\n            </div>\r\n            `\r\n        });\r\n        let tpl = new ToastTpl().$mount().$el;\r\n        document.body.appendChild(tpl);\r\n        setTimeout(() => {\r\n            document.body.removeChild(tpl);\r\n        }, 2500)\r\n    }\r\n}\r\nVue.use(Toast);\r\n\r\n// Plugin：Modal\r\nconst Modal = {};\r\nlet ModalVM = null;\r\nModal.install = (Vue) => {\r\n    const opt = {\r\n        title: '',\r\n        message: '',\r\n        redirect: ''\r\n    }\r\n    Vue.prototype.$modal = (config) => {\r\n        const options = JSON.parse(JSON.stringify(opt))\r\n        if (typeof config === 'object') {\r\n            for (const property in config) {\r\n                options[property] = config[property]\r\n            }\r\n        } else {\r\n            return false\r\n        }\r\n        \r\n        let ModalTpl = Vue.extend({\r\n            template: `\r\n            <div class=\"wl-modal-wrap\" v-show=\"closed\">\r\n            <div class=\"wl-mask wl-mask_animation\"></div>\r\n                <div class=\"wl-modal wl-modal_alert\">\r\n                    <div class=\"wl-modal__hd\">${options.title}</div>\r\n                    <div class=\"wl-modal__bd\">${options.message}</div>\r\n                    <div class=\"wl-modal__ft\">\r\n                        <button class=\"ui-btn ui-btn_primary wl-modal__alert\" @click=\"onClose\">确认</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            `,\r\n            data () {\r\n                return {\r\n                    closed: true\r\n                }\r\n            },\r\n            methods: {\r\n                onClose () {\r\n                    this.closed = false\r\n                    document.body.removeChild(tpl);\r\n                    if (options.redirect) {\r\n                        window.location.href = 'product.html';\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        let tpl = new ModalTpl().$mount().$el\r\n        document.body.appendChild(tpl)\r\n    }\r\n}\r\nVue.use(Modal);"]}